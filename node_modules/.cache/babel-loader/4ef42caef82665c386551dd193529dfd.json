{"ast":null,"code":"import { ethers } from 'ethers';\nimport TOKEN_ABI from '../abis/Token.json';\nimport EXCHANGE_ABI from '../abis/Exchange.json';\nexport const loadProvider = dispatch => {\n  const connection = new ethers.providers.Web3Provider(window.ethereum);\n  dispatch({\n    type: 'PROVIDER_LOADED',\n    connection\n  });\n  return connection;\n};\nexport const loadNetwork = async (provider, dispatch) => {\n  const {\n    chainId\n  } = await provider.getNetwork();\n  dispatch({\n    type: 'NETWORK_LOADED',\n    chainId\n  });\n  return chainId;\n};\nexport const loadAccount = async (provider, dispatch) => {\n  const accounts = await window.ethereum.request({\n    method: 'eth_requestAccounts'\n  });\n  const account = ethers.utils.getAddress(accounts[0]);\n  dispatch({\n    type: 'ACCOUNT_LOADED',\n    account\n  });\n  let balance = await provider.getBalance(account);\n  balance = ethers.utils.formatEther(balance);\n  dispatch({\n    type: 'ETHER_BALANCE_LOADED',\n    balance\n  });\n  return account;\n};\nexport const loadTokens = async (provider, addresses, dispatch) => {\n  let token, symbol;\n  token = new ethers.Contract(addresses[0], TOKEN_ABI, provider);\n  symbol = await token.symbol();\n  dispatch({\n    type: 'TOKEN_1_LOADED',\n    token,\n    symbol\n  });\n  token = new ethers.Contract(addresses[1], TOKEN_ABI, provider);\n  symbol = await token.symbol();\n  dispatch({\n    type: 'TOKEN_2_LOADED',\n    token,\n    symbol\n  });\n  return token;\n}; // load the contracts \n\nexport const loadExchange = async (provider, address, dispatch) => {\n  const exchange = new ethers.Contract(address, EXCHANGE_ABI, provider);\n  dispatch({\n    type: 'EXCHANGE_LOADED',\n    exchange\n  });\n  return exchange;\n};","map":{"version":3,"sources":["/Users/sam4130/Documents/Blockchain/BLCP-ui-redux-setup/src/store/interactions.js"],"names":["ethers","TOKEN_ABI","EXCHANGE_ABI","loadProvider","dispatch","connection","providers","Web3Provider","window","ethereum","type","loadNetwork","provider","chainId","getNetwork","loadAccount","accounts","request","method","account","utils","getAddress","balance","getBalance","formatEther","loadTokens","addresses","token","symbol","Contract","loadExchange","address","exchange"],"mappings":"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","sourcesContent":["import { ethers } from 'ethers'\nimport TOKEN_ABI from '../abis/Token.json';\nimport EXCHANGE_ABI from '../abis/Exchange.json'\n\nexport const loadProvider = (dispatch) => {\n  const connection = new ethers.providers.Web3Provider(window.ethereum)\n  dispatch({ type: 'PROVIDER_LOADED', connection })\n\n  return connection\n}\n\nexport const loadNetwork = async (provider, dispatch) => {\n  const { chainId } = await provider.getNetwork()\n  dispatch({ type: 'NETWORK_LOADED', chainId })\n\n  return chainId\n}\n\nexport const loadAccount = async (provider, dispatch) => {\n  const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n  const account = ethers.utils.getAddress(accounts[0])\n\n  dispatch({ type: 'ACCOUNT_LOADED', account })\n\n  let balance = await provider.getBalance(account)\n  balance = ethers.utils.formatEther(balance)\n\n  dispatch({ type: 'ETHER_BALANCE_LOADED', balance })\n\n  return account\n}\n\nexport const loadTokens = async (provider, addresses, dispatch) => {\n  let token, symbol\n\n  token = new ethers.Contract(addresses[0], TOKEN_ABI, provider)\n  symbol = await token.symbol()\n  dispatch({ type: 'TOKEN_1_LOADED', token, symbol })\n  \n  token = new ethers.Contract(addresses[1], TOKEN_ABI, provider)\n  symbol = await token.symbol()\n  dispatch({ type: 'TOKEN_2_LOADED', token, symbol })\n\n  return token\n}\n\n// load the contracts \nexport const loadExchange = async(provider, address, dispatch) =>{\n  const exchange = new ethers.Contract(address, EXCHANGE_ABI, provider);\n  dispatch({ type: 'EXCHANGE_LOADED', exchange})\n\n  return exchange\n}"]},"metadata":{},"sourceType":"module"}